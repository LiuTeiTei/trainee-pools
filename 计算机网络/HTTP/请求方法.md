## GET VS PSOT

- **GET** - 从指定的资源请求数据。
- **POST** - 向指定的资源提交要被处理的数据。

|                  | GET                                                          | POST                                                         |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 查询字符串       | 请求的 URL 中发送                                            | 请求的消息主体中发送                                         |
| 副作用           | 幂等                                                         | 不幂等                                                       |
| 后退按钮/刷新    | 无害                                                         | 数据会被重新提交（浏览器应该告知用户数据会被重新提交）       |
| 书签             | 可收藏为书签                                                 | 不可收藏为书签                                               |
| 缓存             | 能被缓存                                                     | 不能缓存                                                     |
| 编码类型         | application/x-www-form-urlencoded                            | application/x-www-form-urlencoded <br />multipart/form-data<br />为二进制数据使用多重编码 |
| 历史             | 参数保留在浏览器历史中                                       | 参数不会保存在浏览器历史中                                   |
| 对数据长度的限制 | 当发送数据时，GET 方法向 URL 添加数据，而 URL 的长度是受限制的（URL 的最大长度根据浏览器设置，一般是 2048 个字符） | 无限制                                                       |
| 对数据类型的限制 | 只允许 ASCII 字符                                            | 没有限制，也允许二进制数据                                   |
| 安全性           | 与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。<br /> 在发送密码或其他敏感信息时绝不要使用 GET | POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中。 |
| 可见性           | 数据在 URL 中对所有人都是可见的                              | 数据不会显示在 URL 中                                        |
| TCP 数据包       | 一个                                                         | 两个                                                         |

实际上，GET 和 POST 本质上就是 TCP 链接，并无差别。但是由于 HTTP 的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。

+ HTTP 规定，当执行 GET 请求的时候，要求把传送的数据放在 url 中；执行 POST 请求的时候，要求把传送的数据放在请求主体中。但是，HTTP 只是个行为准则，而 TCP 才是 GET 和 POST 怎么实现的基本。

+ 数据量太大对浏览器和服务器都是很大负担。业界不成文的规定是，（大多数）浏览器通常都会限制 url 长度在 2K 个字节，而（大多数）服务器为了性能和安全（防止恶意构造长 URL 来攻击）最多处理 64K 大小的 url。

+ POST 比 GET 安全只是一般说法，因为数据在地址栏上可见。然而，从传输的角度来说，他们都是不安全的，因为 HTTP 在网络上是明文传输的，只要在网络节点上捉包，就能完整地获取数据报文。要想安全传输，就只有加密，也就是 HTTPS。

+ GET 产生一个 TCP 数据包；POST 产生两个 TCP 数据包。

  + 对于 GET 方式的请求，（大多数）浏览器会把 http header 和 data 一并发送出去，服务器响应 200（返回数据）；

  + 在使用 curl 做POST的时候, 当要 POST 的数据大于 1024 字节的时候，curl 并不会直接就发起 POST 请求，而是会分为两步：

    + 发送一个请求, 包含一个Expect:100-continue，询问 Server 是否愿意接受数据；
    + 接收到 Server 返回的 100-continue 应答以后, 才把数据 POST 给 Server。

  + 因为 POST 需要两步，时间上消耗的要多一点，看起来 GET 比 POST 更有效。但不要随便就用 GET 代替 POST 请求：

    + GET 与 POST 都有自己的语义，不能随便混用。
    + 在网络环境好的情况下，发一次包的时间和发两次包的时间差别基本可以无视。而在网络环境差的情况下，两次包的 TCP 在验证数据包完整性上，有非常大的优点。
    + 并不是所有浏览器都会在 POST 中发送两次包，Firefox 就只发送一次。

  + 但是，header 和 body 分开发送是部分浏览器或框架的请求方法，不属于 post 必然行为。

    



## Ref

[W3School：HTML 请求方法](https://www.w3school.com.cn/tags/html_ref_httpmethods.asp)  

[99%的人都理解错了 HTTP 中 GET 与 POST 的区别](https://learnku.com/articles/25881) 

[知乎：GET 和 POST 到底有什么区别？](https://www.zhihu.com/question/28586791) 